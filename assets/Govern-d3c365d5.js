import{P as ht,Q as Mn,T as An,r as In,M as Cn,V as Vt,j as V,N as jn}from"./index-ef113196.js";import{s as te}from"./Hud-b03c398e.js";import{A as Kt}from"./AnimatedPage-e4b3d823.js";import{u as Tn}from"./index-bc72f38d.js";import{u as On}from"./use-sound.esm-4d59a6fc.js";import{H as Pt}from"./Html-28adec3e.js";import{T as fn}from"./Terra-bc4ee001.js";import Ve from"./Button-e68e725a.js";import"./react-spring_three.modern-3e66679a.js";import"./Html-3965ac2a.js";import"./useGLTF-fb206ba2.js";function Ke(r){throw new Error('Could not dynamically require "'+r+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var dn={exports:{}};(function(r,e){(function(t){r.exports=t()})(function(){return function t(i,o,d){function g(E,b){if(!o[E]){if(!i[E]){var k=typeof Ke=="function"&&Ke;if(!b&&k)return k(E,!0);if(_)return _(E,!0);throw new Error("Cannot find module '"+E+"'")}b=o[E]={exports:{}},i[E][0].call(b.exports,function(O){var R=i[E][1][O];return g(R||O)},b,b.exports,t,i,o,d)}return o[E].exports}for(var _=typeof Ke=="function"&&Ke,S=0;S<d.length;S++)g(d[S]);return g}({1:[function(t,i,o){(function(d,g,_,S,E,b,k,O,R){var v=t("crypto");function D(u,y){y=j(u,y);var s;return(s=y.algorithm!=="passthrough"?v.createHash(y.algorithm):new F).write===void 0&&(s.write=s.update,s.end=s.update),C(y,s).dispatch(u),s.update||s.end(""),s.digest?s.digest(y.encoding==="buffer"?void 0:y.encoding):(u=s.read(),y.encoding!=="buffer"?u.toString(y.encoding):u)}(o=i.exports=D).sha1=function(u){return D(u)},o.keys=function(u){return D(u,{excludeValues:!0,algorithm:"sha1",encoding:"hex"})},o.MD5=function(u){return D(u,{algorithm:"md5",encoding:"hex"})},o.keysMD5=function(u){return D(u,{algorithm:"md5",encoding:"hex",excludeValues:!0})};var m=v.getHashes?v.getHashes().slice():["sha1","md5"],M=(m.push("passthrough"),["buffer","hex","binary","base64"]);function j(u,y){var s={};if(s.algorithm=(y=y||{}).algorithm||"sha1",s.encoding=y.encoding||"hex",s.excludeValues=!!y.excludeValues,s.algorithm=s.algorithm.toLowerCase(),s.encoding=s.encoding.toLowerCase(),s.ignoreUnknown=y.ignoreUnknown===!0,s.respectType=y.respectType!==!1,s.respectFunctionNames=y.respectFunctionNames!==!1,s.respectFunctionProperties=y.respectFunctionProperties!==!1,s.unorderedArrays=y.unorderedArrays===!0,s.unorderedSets=y.unorderedSets!==!1,s.unorderedObjects=y.unorderedObjects!==!1,s.replacer=y.replacer||void 0,s.excludeKeys=y.excludeKeys||void 0,u===void 0)throw new Error("Object argument required.");for(var l=0;l<m.length;++l)m[l].toLowerCase()===s.algorithm.toLowerCase()&&(s.algorithm=m[l]);if(m.indexOf(s.algorithm)===-1)throw new Error('Algorithm "'+s.algorithm+'"  not supported. supported values: '+m.join(", "));if(M.indexOf(s.encoding)===-1&&s.algorithm!=="passthrough")throw new Error('Encoding "'+s.encoding+'"  not supported. supported values: '+M.join(", "));return s}function w(u){if(typeof u=="function")return/^function\s+\w*\s*\(\s*\)\s*{\s+\[native code\]\s+}$/i.exec(Function.prototype.toString.call(u))!=null}function C(u,y,s){s=s||[];function l(a){return y.update?y.update(a,"utf8"):y.write(a,"utf8")}return{dispatch:function(a){return this["_"+((a=u.replacer?u.replacer(a):a)===null?"null":typeof a)](a)},_object:function(a){var h,p=Object.prototype.toString.call(a),H=/\[object (.*)\]/i.exec(p);if(H=(H=H?H[1]:"unknown:["+p+"]").toLowerCase(),0<=(p=s.indexOf(a)))return this.dispatch("[CIRCULAR:"+p+"]");if(s.push(a),_!==void 0&&_.isBuffer&&_.isBuffer(a))return l("buffer:"),l(a);if(H==="object"||H==="function"||H==="asyncfunction")return p=Object.keys(a),u.unorderedObjects&&(p=p.sort()),u.respectType===!1||w(a)||p.splice(0,0,"prototype","__proto__","constructor"),u.excludeKeys&&(p=p.filter(function(U){return!u.excludeKeys(U)})),l("object:"+p.length+":"),h=this,p.forEach(function(U){h.dispatch(U),l(":"),u.excludeValues||h.dispatch(a[U]),l(",")});if(!this["_"+H]){if(u.ignoreUnknown)return l("["+H+"]");throw new Error('Unknown object type "'+H+'"')}this["_"+H](a)},_array:function(a,U){U=U!==void 0?U:u.unorderedArrays!==!1;var p=this;if(l("array:"+a.length+":"),!U||a.length<=1)return a.forEach(function(z){return p.dispatch(z)});var H=[],U=a.map(function(z){var L=new F,B=s.slice();return C(u,L,B).dispatch(z),H=H.concat(B.slice(s.length)),L.read().toString()});return s=s.concat(H),U.sort(),this._array(U,!1)},_date:function(a){return l("date:"+a.toJSON())},_symbol:function(a){return l("symbol:"+a.toString())},_error:function(a){return l("error:"+a.toString())},_boolean:function(a){return l("bool:"+a.toString())},_string:function(a){l("string:"+a.length+":"),l(a.toString())},_function:function(a){l("fn:"),w(a)?this.dispatch("[native]"):this.dispatch(a.toString()),u.respectFunctionNames!==!1&&this.dispatch("function-name:"+String(a.name)),u.respectFunctionProperties&&this._object(a)},_number:function(a){return l("number:"+a.toString())},_xml:function(a){return l("xml:"+a.toString())},_null:function(){return l("Null")},_undefined:function(){return l("Undefined")},_regexp:function(a){return l("regex:"+a.toString())},_uint8array:function(a){return l("uint8array:"),this.dispatch(Array.prototype.slice.call(a))},_uint8clampedarray:function(a){return l("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(a))},_int8array:function(a){return l("int8array:"),this.dispatch(Array.prototype.slice.call(a))},_uint16array:function(a){return l("uint16array:"),this.dispatch(Array.prototype.slice.call(a))},_int16array:function(a){return l("int16array:"),this.dispatch(Array.prototype.slice.call(a))},_uint32array:function(a){return l("uint32array:"),this.dispatch(Array.prototype.slice.call(a))},_int32array:function(a){return l("int32array:"),this.dispatch(Array.prototype.slice.call(a))},_float32array:function(a){return l("float32array:"),this.dispatch(Array.prototype.slice.call(a))},_float64array:function(a){return l("float64array:"),this.dispatch(Array.prototype.slice.call(a))},_arraybuffer:function(a){return l("arraybuffer:"),this.dispatch(new Uint8Array(a))},_url:function(a){return l("url:"+a.toString())},_map:function(a){return l("map:"),a=Array.from(a),this._array(a,u.unorderedSets!==!1)},_set:function(a){return l("set:"),a=Array.from(a),this._array(a,u.unorderedSets!==!1)},_file:function(a){return l("file:"),this.dispatch([a.name,a.size,a.type,a.lastModfied])},_blob:function(){if(u.ignoreUnknown)return l("[blob]");throw Error(`Hashing Blob objects is currently not supported
(see https://github.com/puleos/object-hash/issues/26)
Use "options.replacer" or "options.ignoreUnknown"
`)},_domwindow:function(){return l("domwindow")},_bigint:function(a){return l("bigint:"+a.toString())},_process:function(){return l("process")},_timer:function(){return l("timer")},_pipe:function(){return l("pipe")},_tcp:function(){return l("tcp")},_udp:function(){return l("udp")},_tty:function(){return l("tty")},_statwatcher:function(){return l("statwatcher")},_securecontext:function(){return l("securecontext")},_connection:function(){return l("connection")},_zlib:function(){return l("zlib")},_context:function(){return l("context")},_nodescript:function(){return l("nodescript")},_httpparser:function(){return l("httpparser")},_dataview:function(){return l("dataview")},_signal:function(){return l("signal")},_fsevent:function(){return l("fsevent")},_tlswrap:function(){return l("tlswrap")}}}function F(){return{buf:"",write:function(u){this.buf+=u},end:function(u){this.buf+=u},read:function(){return this.buf}}}o.writeToStream=function(u,y,s){return s===void 0&&(s=y,y={}),C(y=j(u,y),s).dispatch(u)}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/fake_9a5aa49d.js","/")},{buffer:3,crypto:5,lYpoI2:11}],2:[function(t,i,o){(function(d,g,_,S,E,b,k,O,R){(function(v){var D=typeof Uint8Array<"u"?Uint8Array:Array,m="+".charCodeAt(0),M="/".charCodeAt(0),j="0".charCodeAt(0),w="a".charCodeAt(0),C="A".charCodeAt(0),F="-".charCodeAt(0),u="_".charCodeAt(0);function y(s){return s=s.charCodeAt(0),s===m||s===F?62:s===M||s===u?63:s<j?-1:s<j+10?s-j+26+26:s<C+26?s-C:s<w+26?s-w+26:void 0}v.toByteArray=function(s){var l,a;if(0<s.length%4)throw new Error("Invalid string. Length must be a multiple of 4");var h=s.length,h=s.charAt(h-2)==="="?2:s.charAt(h-1)==="="?1:0,p=new D(3*s.length/4-h),H=0<h?s.length-4:s.length,U=0;function z(L){p[U++]=L}for(l=0;l<H;l+=4,0)z((16711680&(a=y(s.charAt(l))<<18|y(s.charAt(l+1))<<12|y(s.charAt(l+2))<<6|y(s.charAt(l+3))))>>16),z((65280&a)>>8),z(255&a);return h==2?z(255&(a=y(s.charAt(l))<<2|y(s.charAt(l+1))>>4)):h==1&&(z((a=y(s.charAt(l))<<10|y(s.charAt(l+1))<<4|y(s.charAt(l+2))>>2)>>8&255),z(255&a)),p},v.fromByteArray=function(s){var l,a,h,p,H=s.length%3,U="";function z(L){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(L)}for(l=0,h=s.length-H;l<h;l+=3)a=(s[l]<<16)+(s[l+1]<<8)+s[l+2],U+=z((p=a)>>18&63)+z(p>>12&63)+z(p>>6&63)+z(63&p);switch(H){case 1:U=(U+=z((a=s[s.length-1])>>2))+z(a<<4&63)+"==";break;case 2:U=(U=(U+=z((a=(s[s.length-2]<<8)+s[s.length-1])>>10))+z(a>>4&63))+z(a<<2&63)+"="}return U}})(o===void 0?this.base64js={}:o)}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/base64-js/lib/b64.js","/node_modules/gulp-browserify/node_modules/base64-js/lib")},{buffer:3,lYpoI2:11}],3:[function(t,i,o){(function(d,g,m,S,E,b,k,O,R){var v=t("base64-js"),D=t("ieee754");function m(n,c,f){if(!(this instanceof m))return new m(n,c,f);var A,x,P,Y,Q=typeof n;if(c==="base64"&&Q=="string")for(n=(Y=n).trim?Y.trim():Y.replace(/^\s+|\s+$/g,"");n.length%4!=0;)n+="=";if(Q=="number")A=W(n);else if(Q=="string")A=m.byteLength(n,c);else{if(Q!="object")throw new Error("First argument needs to be a number, array or string.");A=W(n.length)}if(m._useTypedArrays?x=m._augment(new Uint8Array(A)):((x=this).length=A,x._isBuffer=!0),m._useTypedArrays&&typeof n.byteLength=="number")x._set(n);else if(q(Y=n)||m.isBuffer(Y)||Y&&typeof Y=="object"&&typeof Y.length=="number")for(P=0;P<A;P++)m.isBuffer(n)?x[P]=n.readUInt8(P):x[P]=n[P];else if(Q=="string")x.write(n,0,c);else if(Q=="number"&&!m._useTypedArrays&&!f)for(P=0;P<A;P++)x[P]=0;return x}function M(n,c,f,A){return m._charsWritten=pe(function(x){for(var P=[],Y=0;Y<x.length;Y++)P.push(255&x.charCodeAt(Y));return P}(c),n,f,A)}function j(n,c,f,A){return m._charsWritten=pe(function(x){for(var P,Y,Q=[],J=0;J<x.length;J++)Y=x.charCodeAt(J),P=Y>>8,Y=Y%256,Q.push(Y),Q.push(P);return Q}(c),n,f,A)}function w(n,c,f){var A="";f=Math.min(n.length,f);for(var x=c;x<f;x++)A+=String.fromCharCode(n[x]);return A}function C(n,c,f,P){P||(T(typeof f=="boolean","missing or invalid endian"),T(c!=null,"missing offset"),T(c+1<n.length,"Trying to read beyond buffer length"));var x,P=n.length;if(!(P<=c))return f?(x=n[c],c+1<P&&(x|=n[c+1]<<8)):(x=n[c]<<8,c+1<P&&(x|=n[c+1])),x}function F(n,c,f,P){P||(T(typeof f=="boolean","missing or invalid endian"),T(c!=null,"missing offset"),T(c+3<n.length,"Trying to read beyond buffer length"));var x,P=n.length;if(!(P<=c))return f?(c+2<P&&(x=n[c+2]<<16),c+1<P&&(x|=n[c+1]<<8),x|=n[c],c+3<P&&(x+=n[c+3]<<24>>>0)):(c+1<P&&(x=n[c+1]<<16),c+2<P&&(x|=n[c+2]<<8),c+3<P&&(x|=n[c+3]),x+=n[c]<<24>>>0),x}function u(n,c,f,A){if(A||(T(typeof f=="boolean","missing or invalid endian"),T(c!=null,"missing offset"),T(c+1<n.length,"Trying to read beyond buffer length")),!(n.length<=c))return A=C(n,c,f,!0),32768&A?-1*(65535-A+1):A}function y(n,c,f,A){if(A||(T(typeof f=="boolean","missing or invalid endian"),T(c!=null,"missing offset"),T(c+3<n.length,"Trying to read beyond buffer length")),!(n.length<=c))return A=F(n,c,f,!0),2147483648&A?-1*(4294967295-A+1):A}function s(n,c,f,A){return A||(T(typeof f=="boolean","missing or invalid endian"),T(c+3<n.length,"Trying to read beyond buffer length")),D.read(n,c,f,23,4)}function l(n,c,f,A){return A||(T(typeof f=="boolean","missing or invalid endian"),T(c+7<n.length,"Trying to read beyond buffer length")),D.read(n,c,f,52,8)}function a(n,c,f,A,x){if(x||(T(c!=null,"missing value"),T(typeof A=="boolean","missing or invalid endian"),T(f!=null,"missing offset"),T(f+1<n.length,"trying to write beyond buffer length"),pt(c,65535)),x=n.length,!(x<=f))for(var P=0,Y=Math.min(x-f,2);P<Y;P++)n[f+P]=(c&255<<8*(A?P:1-P))>>>8*(A?P:1-P)}function h(n,c,f,A,x){if(x||(T(c!=null,"missing value"),T(typeof A=="boolean","missing or invalid endian"),T(f!=null,"missing offset"),T(f+3<n.length,"trying to write beyond buffer length"),pt(c,4294967295)),x=n.length,!(x<=f))for(var P=0,Y=Math.min(x-f,4);P<Y;P++)n[f+P]=c>>>8*(A?P:3-P)&255}function p(n,c,f,A,x){x||(T(c!=null,"missing value"),T(typeof A=="boolean","missing or invalid endian"),T(f!=null,"missing offset"),T(f+1<n.length,"Trying to write beyond buffer length"),mt(c,32767,-32768)),n.length<=f||a(n,0<=c?c:65535+c+1,f,A,x)}function H(n,c,f,A,x){x||(T(c!=null,"missing value"),T(typeof A=="boolean","missing or invalid endian"),T(f!=null,"missing offset"),T(f+3<n.length,"Trying to write beyond buffer length"),mt(c,2147483647,-2147483648)),n.length<=f||h(n,0<=c?c:4294967295+c+1,f,A,x)}function U(n,c,f,A,x){x||(T(c!=null,"missing value"),T(typeof A=="boolean","missing or invalid endian"),T(f!=null,"missing offset"),T(f+3<n.length,"Trying to write beyond buffer length"),Ht(c,34028234663852886e22,-34028234663852886e22)),n.length<=f||D.write(n,c,f,A,23,4)}function z(n,c,f,A,x){x||(T(c!=null,"missing value"),T(typeof A=="boolean","missing or invalid endian"),T(f!=null,"missing offset"),T(f+7<n.length,"Trying to write beyond buffer length"),Ht(c,17976931348623157e292,-17976931348623157e292)),n.length<=f||D.write(n,c,f,A,52,8)}o.Buffer=m,o.SlowBuffer=m,o.INSPECT_MAX_BYTES=50,m.poolSize=8192,m._useTypedArrays=function(){try{var n=new ArrayBuffer(0),c=new Uint8Array(n);return c.foo=function(){return 42},c.foo()===42&&typeof c.subarray=="function"}catch{return!1}}(),m.isEncoding=function(n){switch(String(n).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},m.isBuffer=function(n){return!(n==null||!n._isBuffer)},m.byteLength=function(n,c){var f;switch(n+="",c||"utf8"){case"hex":f=n.length/2;break;case"utf8":case"utf-8":f=re(n).length;break;case"ascii":case"binary":case"raw":f=n.length;break;case"base64":f=we(n).length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":f=2*n.length;break;default:throw new Error("Unknown encoding")}return f},m.concat=function(n,c){if(T(q(n),`Usage: Buffer.concat(list, [totalLength])
list should be an Array.`),n.length===0)return new m(0);if(n.length===1)return n[0];if(typeof c!="number")for(x=c=0;x<n.length;x++)c+=n[x].length;for(var f=new m(c),A=0,x=0;x<n.length;x++){var P=n[x];P.copy(f,A),A+=P.length}return f},m.prototype.write=function(n,c,f,A){isFinite(c)?isFinite(f)||(A=f,f=void 0):(J=A,A=c,c=f,f=J),c=Number(c)||0;var x,P,Y,Q,J=this.length-c;switch((!f||J<(f=Number(f)))&&(f=J),A=String(A||"utf8").toLowerCase()){case"hex":x=function(ue,oe,ie,Z){ie=Number(ie)||0;var X=ue.length-ie;(!Z||X<(Z=Number(Z)))&&(Z=X),T((X=oe.length)%2==0,"Invalid hex string"),X/2<Z&&(Z=X/2);for(var Ae=0;Ae<Z;Ae++){var zt=parseInt(oe.substr(2*Ae,2),16);T(!isNaN(zt),"Invalid hex string"),ue[ie+Ae]=zt}return m._charsWritten=2*Ae,Ae}(this,n,c,f);break;case"utf8":case"utf-8":P=this,Y=c,Q=f,x=m._charsWritten=pe(re(n),P,Y,Q);break;case"ascii":case"binary":x=M(this,n,c,f);break;case"base64":P=this,Y=c,Q=f,x=m._charsWritten=pe(we(n),P,Y,Q);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":x=j(this,n,c,f);break;default:throw new Error("Unknown encoding")}return x},m.prototype.toString=function(n,c,f){var A,x,P,Y,Q=this;if(n=String(n||"utf8").toLowerCase(),c=Number(c)||0,(f=f!==void 0?Number(f):Q.length)===c)return"";switch(n){case"hex":A=function(J,ue,oe){var ie=J.length;(!ue||ue<0)&&(ue=0),(!oe||oe<0||ie<oe)&&(oe=ie);for(var Z="",X=ue;X<oe;X++)Z+=G(J[X]);return Z}(Q,c,f);break;case"utf8":case"utf-8":A=function(J,ue,oe){var ie="",Z="";oe=Math.min(J.length,oe);for(var X=ue;X<oe;X++)J[X]<=127?(ie+=Ft(Z)+String.fromCharCode(J[X]),Z=""):Z+="%"+J[X].toString(16);return ie+Ft(Z)}(Q,c,f);break;case"ascii":case"binary":A=w(Q,c,f);break;case"base64":x=Q,Y=f,A=(P=c)===0&&Y===x.length?v.fromByteArray(x):v.fromByteArray(x.slice(P,Y));break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":A=function(J,ue,oe){for(var ie=J.slice(ue,oe),Z="",X=0;X<ie.length;X+=2)Z+=String.fromCharCode(ie[X]+256*ie[X+1]);return Z}(Q,c,f);break;default:throw new Error("Unknown encoding")}return A},m.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},m.prototype.copy=function(n,c,f,A){if(c=c||0,(A=A||A===0?A:this.length)!==(f=f||0)&&n.length!==0&&this.length!==0){T(f<=A,"sourceEnd < sourceStart"),T(0<=c&&c<n.length,"targetStart out of bounds"),T(0<=f&&f<this.length,"sourceStart out of bounds"),T(0<=A&&A<=this.length,"sourceEnd out of bounds"),A>this.length&&(A=this.length);var x=(A=n.length-c<A-f?n.length-c+f:A)-f;if(x<100||!m._useTypedArrays)for(var P=0;P<x;P++)n[P+c]=this[P+f];else n._set(this.subarray(f,f+x),c)}},m.prototype.slice=function(n,c){var f=this.length;if(n=B(n,f,0),c=B(c,f,f),m._useTypedArrays)return m._augment(this.subarray(n,c));for(var A=c-n,x=new m(A,void 0,!0),P=0;P<A;P++)x[P]=this[P+n];return x},m.prototype.get=function(n){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(n)},m.prototype.set=function(n,c){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(n,c)},m.prototype.readUInt8=function(n,c){if(c||(T(n!=null,"missing offset"),T(n<this.length,"Trying to read beyond buffer length")),!(n>=this.length))return this[n]},m.prototype.readUInt16LE=function(n,c){return C(this,n,!0,c)},m.prototype.readUInt16BE=function(n,c){return C(this,n,!1,c)},m.prototype.readUInt32LE=function(n,c){return F(this,n,!0,c)},m.prototype.readUInt32BE=function(n,c){return F(this,n,!1,c)},m.prototype.readInt8=function(n,c){if(c||(T(n!=null,"missing offset"),T(n<this.length,"Trying to read beyond buffer length")),!(n>=this.length))return 128&this[n]?-1*(255-this[n]+1):this[n]},m.prototype.readInt16LE=function(n,c){return u(this,n,!0,c)},m.prototype.readInt16BE=function(n,c){return u(this,n,!1,c)},m.prototype.readInt32LE=function(n,c){return y(this,n,!0,c)},m.prototype.readInt32BE=function(n,c){return y(this,n,!1,c)},m.prototype.readFloatLE=function(n,c){return s(this,n,!0,c)},m.prototype.readFloatBE=function(n,c){return s(this,n,!1,c)},m.prototype.readDoubleLE=function(n,c){return l(this,n,!0,c)},m.prototype.readDoubleBE=function(n,c){return l(this,n,!1,c)},m.prototype.writeUInt8=function(n,c,f){f||(T(n!=null,"missing value"),T(c!=null,"missing offset"),T(c<this.length,"trying to write beyond buffer length"),pt(n,255)),c>=this.length||(this[c]=n)},m.prototype.writeUInt16LE=function(n,c,f){a(this,n,c,!0,f)},m.prototype.writeUInt16BE=function(n,c,f){a(this,n,c,!1,f)},m.prototype.writeUInt32LE=function(n,c,f){h(this,n,c,!0,f)},m.prototype.writeUInt32BE=function(n,c,f){h(this,n,c,!1,f)},m.prototype.writeInt8=function(n,c,f){f||(T(n!=null,"missing value"),T(c!=null,"missing offset"),T(c<this.length,"Trying to write beyond buffer length"),mt(n,127,-128)),c>=this.length||(0<=n?this.writeUInt8(n,c,f):this.writeUInt8(255+n+1,c,f))},m.prototype.writeInt16LE=function(n,c,f){p(this,n,c,!0,f)},m.prototype.writeInt16BE=function(n,c,f){p(this,n,c,!1,f)},m.prototype.writeInt32LE=function(n,c,f){H(this,n,c,!0,f)},m.prototype.writeInt32BE=function(n,c,f){H(this,n,c,!1,f)},m.prototype.writeFloatLE=function(n,c,f){U(this,n,c,!0,f)},m.prototype.writeFloatBE=function(n,c,f){U(this,n,c,!1,f)},m.prototype.writeDoubleLE=function(n,c,f){z(this,n,c,!0,f)},m.prototype.writeDoubleBE=function(n,c,f){z(this,n,c,!1,f)},m.prototype.fill=function(n,c,f){if(c=c||0,f=f||this.length,T(typeof(n=typeof(n=n||0)=="string"?n.charCodeAt(0):n)=="number"&&!isNaN(n),"value is not a number"),T(c<=f,"end < start"),f!==c&&this.length!==0){T(0<=c&&c<this.length,"start out of bounds"),T(0<=f&&f<=this.length,"end out of bounds");for(var A=c;A<f;A++)this[A]=n}},m.prototype.inspect=function(){for(var n=[],c=this.length,f=0;f<c;f++)if(n[f]=G(this[f]),f===o.INSPECT_MAX_BYTES){n[f+1]="...";break}return"<Buffer "+n.join(" ")+">"},m.prototype.toArrayBuffer=function(){if(typeof Uint8Array>"u")throw new Error("Buffer.toArrayBuffer not supported in this browser");if(m._useTypedArrays)return new m(this).buffer;for(var n=new Uint8Array(this.length),c=0,f=n.length;c<f;c+=1)n[c]=this[c];return n.buffer};var L=m.prototype;function B(n,c,f){return typeof n!="number"?f:c<=(n=~~n)?c:0<=n||0<=(n+=c)?n:0}function W(n){return(n=~~Math.ceil(+n))<0?0:n}function q(n){return(Array.isArray||function(c){return Object.prototype.toString.call(c)==="[object Array]"})(n)}function G(n){return n<16?"0"+n.toString(16):n.toString(16)}function re(n){for(var c=[],f=0;f<n.length;f++){var A=n.charCodeAt(f);if(A<=127)c.push(n.charCodeAt(f));else for(var x=f,P=(55296<=A&&A<=57343&&f++,encodeURIComponent(n.slice(x,f+1)).substr(1).split("%")),Y=0;Y<P.length;Y++)c.push(parseInt(P[Y],16))}return c}function we(n){return v.toByteArray(n)}function pe(n,c,f,A){for(var x=0;x<A&&!(x+f>=c.length||x>=n.length);x++)c[x+f]=n[x];return x}function Ft(n){try{return decodeURIComponent(n)}catch{return String.fromCharCode(65533)}}function pt(n,c){T(typeof n=="number","cannot write a non-number as a number"),T(0<=n,"specified a negative value for writing an unsigned value"),T(n<=c,"value is larger than maximum value for type"),T(Math.floor(n)===n,"value has a fractional component")}function mt(n,c,f){T(typeof n=="number","cannot write a non-number as a number"),T(n<=c,"value larger than maximum allowed value"),T(f<=n,"value smaller than minimum allowed value"),T(Math.floor(n)===n,"value has a fractional component")}function Ht(n,c,f){T(typeof n=="number","cannot write a non-number as a number"),T(n<=c,"value larger than maximum allowed value"),T(f<=n,"value smaller than minimum allowed value")}function T(n,c){if(!n)throw new Error(c||"Failed assertion")}m._augment=function(n){return n._isBuffer=!0,n._get=n.get,n._set=n.set,n.get=L.get,n.set=L.set,n.write=L.write,n.toString=L.toString,n.toLocaleString=L.toString,n.toJSON=L.toJSON,n.copy=L.copy,n.slice=L.slice,n.readUInt8=L.readUInt8,n.readUInt16LE=L.readUInt16LE,n.readUInt16BE=L.readUInt16BE,n.readUInt32LE=L.readUInt32LE,n.readUInt32BE=L.readUInt32BE,n.readInt8=L.readInt8,n.readInt16LE=L.readInt16LE,n.readInt16BE=L.readInt16BE,n.readInt32LE=L.readInt32LE,n.readInt32BE=L.readInt32BE,n.readFloatLE=L.readFloatLE,n.readFloatBE=L.readFloatBE,n.readDoubleLE=L.readDoubleLE,n.readDoubleBE=L.readDoubleBE,n.writeUInt8=L.writeUInt8,n.writeUInt16LE=L.writeUInt16LE,n.writeUInt16BE=L.writeUInt16BE,n.writeUInt32LE=L.writeUInt32LE,n.writeUInt32BE=L.writeUInt32BE,n.writeInt8=L.writeInt8,n.writeInt16LE=L.writeInt16LE,n.writeInt16BE=L.writeInt16BE,n.writeInt32LE=L.writeInt32LE,n.writeInt32BE=L.writeInt32BE,n.writeFloatLE=L.writeFloatLE,n.writeFloatBE=L.writeFloatBE,n.writeDoubleLE=L.writeDoubleLE,n.writeDoubleBE=L.writeDoubleBE,n.fill=L.fill,n.inspect=L.inspect,n.toArrayBuffer=L.toArrayBuffer,n}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/buffer/index.js","/node_modules/gulp-browserify/node_modules/buffer")},{"base64-js":2,buffer:3,ieee754:10,lYpoI2:11}],4:[function(t,i,o){(function(d,g,v,S,E,b,k,O,R){var v=t("buffer").Buffer,D=4,m=new v(D);m.fill(0),i.exports={hash:function(M,j,w,C){for(var F=j(function(a,h){a.length%D!=0&&(p=a.length+(D-a.length%D),a=v.concat([a,m],p));for(var p,H=[],U=h?a.readInt32BE:a.readInt32LE,z=0;z<a.length;z+=D)H.push(U.call(a,z));return H}(M=v.isBuffer(M)?M:new v(M),C),8*M.length),j=C,u=new v(w),y=j?u.writeInt32BE:u.writeInt32LE,s=0;s<F.length;s++)y.call(u,F[s],4*s,!0);return u}}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/helpers.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:11}],5:[function(t,i,o){(function(d,g,v,S,E,b,k,O,R){var v=t("buffer").Buffer,D=t("./sha"),m=t("./sha256"),M=t("./rng"),j={sha1:D,sha256:m,md5:t("./md5")},w=64,C=new v(w);function F(a,h){var p=j[a=a||"sha1"],H=[];return p||u("algorithm:",a,"is not yet supported"),{update:function(U){return v.isBuffer(U)||(U=new v(U)),H.push(U),U.length,this},digest:function(U){var z=v.concat(H),z=h?function(L,B,W){v.isBuffer(B)||(B=new v(B)),v.isBuffer(W)||(W=new v(W)),B.length>w?B=L(B):B.length<w&&(B=v.concat([B,C],w));for(var q=new v(w),G=new v(w),re=0;re<w;re++)q[re]=54^B[re],G[re]=92^B[re];return W=L(v.concat([q,W])),L(v.concat([G,W]))}(p,h,z):p(z);return H=null,U?z.toString(U):z}}}function u(){var a=[].slice.call(arguments).join(" ");throw new Error([a,"we accept pull requests","http://github.com/dominictarr/crypto-browserify"].join(`
`))}C.fill(0),o.createHash=function(a){return F(a)},o.createHmac=F,o.randomBytes=function(a,h){if(!h||!h.call)return new v(M(a));try{h.call(this,void 0,new v(M(a)))}catch(p){h(p)}};var y,s=["createCredentials","createCipher","createCipheriv","createDecipher","createDecipheriv","createSign","createVerify","createDiffieHellman","pbkdf2"],l=function(a){o[a]=function(){u("sorry,",a,"is not implemented yet")}};for(y in s)l(s[y])}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/index.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./md5":6,"./rng":7,"./sha":8,"./sha256":9,buffer:3,lYpoI2:11}],6:[function(t,i,o){(function(d,g,_,S,E,b,k,O,R){var v=t("./helpers");function D(u,y){u[y>>5]|=128<<y%32,u[14+(y+64>>>9<<4)]=y;for(var s=1732584193,l=-271733879,a=-1732584194,h=271733878,p=0;p<u.length;p+=16){var H=s,U=l,z=a,L=h,s=M(s,l,a,h,u[p+0],7,-680876936),h=M(h,s,l,a,u[p+1],12,-389564586),a=M(a,h,s,l,u[p+2],17,606105819),l=M(l,a,h,s,u[p+3],22,-1044525330);s=M(s,l,a,h,u[p+4],7,-176418897),h=M(h,s,l,a,u[p+5],12,1200080426),a=M(a,h,s,l,u[p+6],17,-1473231341),l=M(l,a,h,s,u[p+7],22,-45705983),s=M(s,l,a,h,u[p+8],7,1770035416),h=M(h,s,l,a,u[p+9],12,-1958414417),a=M(a,h,s,l,u[p+10],17,-42063),l=M(l,a,h,s,u[p+11],22,-1990404162),s=M(s,l,a,h,u[p+12],7,1804603682),h=M(h,s,l,a,u[p+13],12,-40341101),a=M(a,h,s,l,u[p+14],17,-1502002290),s=j(s,l=M(l,a,h,s,u[p+15],22,1236535329),a,h,u[p+1],5,-165796510),h=j(h,s,l,a,u[p+6],9,-1069501632),a=j(a,h,s,l,u[p+11],14,643717713),l=j(l,a,h,s,u[p+0],20,-373897302),s=j(s,l,a,h,u[p+5],5,-701558691),h=j(h,s,l,a,u[p+10],9,38016083),a=j(a,h,s,l,u[p+15],14,-660478335),l=j(l,a,h,s,u[p+4],20,-405537848),s=j(s,l,a,h,u[p+9],5,568446438),h=j(h,s,l,a,u[p+14],9,-1019803690),a=j(a,h,s,l,u[p+3],14,-187363961),l=j(l,a,h,s,u[p+8],20,1163531501),s=j(s,l,a,h,u[p+13],5,-1444681467),h=j(h,s,l,a,u[p+2],9,-51403784),a=j(a,h,s,l,u[p+7],14,1735328473),s=w(s,l=j(l,a,h,s,u[p+12],20,-1926607734),a,h,u[p+5],4,-378558),h=w(h,s,l,a,u[p+8],11,-2022574463),a=w(a,h,s,l,u[p+11],16,1839030562),l=w(l,a,h,s,u[p+14],23,-35309556),s=w(s,l,a,h,u[p+1],4,-1530992060),h=w(h,s,l,a,u[p+4],11,1272893353),a=w(a,h,s,l,u[p+7],16,-155497632),l=w(l,a,h,s,u[p+10],23,-1094730640),s=w(s,l,a,h,u[p+13],4,681279174),h=w(h,s,l,a,u[p+0],11,-358537222),a=w(a,h,s,l,u[p+3],16,-722521979),l=w(l,a,h,s,u[p+6],23,76029189),s=w(s,l,a,h,u[p+9],4,-640364487),h=w(h,s,l,a,u[p+12],11,-421815835),a=w(a,h,s,l,u[p+15],16,530742520),s=C(s,l=w(l,a,h,s,u[p+2],23,-995338651),a,h,u[p+0],6,-198630844),h=C(h,s,l,a,u[p+7],10,1126891415),a=C(a,h,s,l,u[p+14],15,-1416354905),l=C(l,a,h,s,u[p+5],21,-57434055),s=C(s,l,a,h,u[p+12],6,1700485571),h=C(h,s,l,a,u[p+3],10,-1894986606),a=C(a,h,s,l,u[p+10],15,-1051523),l=C(l,a,h,s,u[p+1],21,-2054922799),s=C(s,l,a,h,u[p+8],6,1873313359),h=C(h,s,l,a,u[p+15],10,-30611744),a=C(a,h,s,l,u[p+6],15,-1560198380),l=C(l,a,h,s,u[p+13],21,1309151649),s=C(s,l,a,h,u[p+4],6,-145523070),h=C(h,s,l,a,u[p+11],10,-1120210379),a=C(a,h,s,l,u[p+2],15,718787259),l=C(l,a,h,s,u[p+9],21,-343485551),s=F(s,H),l=F(l,U),a=F(a,z),h=F(h,L)}return Array(s,l,a,h)}function m(u,y,s,l,a,h){return F((y=F(F(y,u),F(l,h)))<<a|y>>>32-a,s)}function M(u,y,s,l,a,h,p){return m(y&s|~y&l,u,y,a,h,p)}function j(u,y,s,l,a,h,p){return m(y&l|s&~l,u,y,a,h,p)}function w(u,y,s,l,a,h,p){return m(y^s^l,u,y,a,h,p)}function C(u,y,s,l,a,h,p){return m(s^(y|~l),u,y,a,h,p)}function F(u,y){var s=(65535&u)+(65535&y);return(u>>16)+(y>>16)+(s>>16)<<16|65535&s}i.exports=function(u){return v.hash(u,D,16)}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/md5.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],7:[function(t,i,o){(function(d,g,_,S,E,b,k,O,R){i.exports=function(v){for(var D,m=new Array(v),M=0;M<v;M++)!(3&M)&&(D=4294967296*Math.random()),m[M]=D>>>((3&M)<<3)&255;return m}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/rng.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:11}],8:[function(t,i,o){(function(d,g,_,S,E,b,k,O,R){var v=t("./helpers");function D(j,w){j[w>>5]|=128<<24-w%32,j[15+(w+64>>9<<4)]=w;for(var C,F,u,y=Array(80),s=1732584193,l=-271733879,a=-1732584194,h=271733878,p=-1009589776,H=0;H<j.length;H+=16){for(var U=s,z=l,L=a,B=h,W=p,q=0;q<80;q++){y[q]=q<16?j[H+q]:M(y[q-3]^y[q-8]^y[q-14]^y[q-16],1);var G=m(m(M(s,5),(G=l,F=a,u=h,(C=q)<20?G&F|~G&u:!(C<40)&&C<60?G&F|G&u|F&u:G^F^u)),m(m(p,y[q]),(C=q)<20?1518500249:C<40?1859775393:C<60?-1894007588:-899497514)),p=h,h=a,a=M(l,30),l=s,s=G}s=m(s,U),l=m(l,z),a=m(a,L),h=m(h,B),p=m(p,W)}return Array(s,l,a,h,p)}function m(j,w){var C=(65535&j)+(65535&w);return(j>>16)+(w>>16)+(C>>16)<<16|65535&C}function M(j,w){return j<<w|j>>>32-w}i.exports=function(j){return v.hash(j,D,20,!0)}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],9:[function(t,i,o){(function(d,g,_,S,E,b,k,O,R){function v(w,C){var F=(65535&w)+(65535&C);return(w>>16)+(C>>16)+(F>>16)<<16|65535&F}function D(w,C){var F,u=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),y=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),s=new Array(64);w[C>>5]|=128<<24-C%32,w[15+(C+64>>9<<4)]=C;for(var l,a,h=0;h<w.length;h+=16){for(var p=y[0],H=y[1],U=y[2],z=y[3],L=y[4],B=y[5],W=y[6],q=y[7],G=0;G<64;G++)s[G]=G<16?w[G+h]:v(v(v((a=s[G-2],M(a,17)^M(a,19)^j(a,10)),s[G-7]),(a=s[G-15],M(a,7)^M(a,18)^j(a,3))),s[G-16]),F=v(v(v(v(q,M(a=L,6)^M(a,11)^M(a,25)),L&B^~L&W),u[G]),s[G]),l=v(M(l=p,2)^M(l,13)^M(l,22),p&H^p&U^H&U),q=W,W=B,B=L,L=v(z,F),z=U,U=H,H=p,p=v(F,l);y[0]=v(p,y[0]),y[1]=v(H,y[1]),y[2]=v(U,y[2]),y[3]=v(z,y[3]),y[4]=v(L,y[4]),y[5]=v(B,y[5]),y[6]=v(W,y[6]),y[7]=v(q,y[7])}return y}var m=t("./helpers"),M=function(w,C){return w>>>C|w<<32-C},j=function(w,C){return w>>>C};i.exports=function(w){return m.hash(w,D,32,!0)}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha256.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],10:[function(t,i,o){(function(d,g,_,S,E,b,k,O,R){o.read=function(v,D,m,M,h){var w,C,F=8*h-M-1,u=(1<<F)-1,y=u>>1,s=-7,l=m?h-1:0,a=m?-1:1,h=v[D+l];for(l+=a,w=h&(1<<-s)-1,h>>=-s,s+=F;0<s;w=256*w+v[D+l],l+=a,s-=8);for(C=w&(1<<-s)-1,w>>=-s,s+=M;0<s;C=256*C+v[D+l],l+=a,s-=8);if(w===0)w=1-y;else{if(w===u)return C?NaN:1/0*(h?-1:1);C+=Math.pow(2,M),w-=y}return(h?-1:1)*C*Math.pow(2,w-M)},o.write=function(v,D,m,M,j,p){var C,F,u=8*p-j-1,y=(1<<u)-1,s=y>>1,l=j===23?Math.pow(2,-24)-Math.pow(2,-77):0,a=M?0:p-1,h=M?1:-1,p=D<0||D===0&&1/D<0?1:0;for(D=Math.abs(D),isNaN(D)||D===1/0?(F=isNaN(D)?1:0,C=y):(C=Math.floor(Math.log(D)/Math.LN2),D*(M=Math.pow(2,-C))<1&&(C--,M*=2),2<=(D+=1<=C+s?l/M:l*Math.pow(2,1-s))*M&&(C++,M/=2),y<=C+s?(F=0,C=y):1<=C+s?(F=(D*M-1)*Math.pow(2,j),C+=s):(F=D*Math.pow(2,s-1)*Math.pow(2,j),C=0));8<=j;v[m+a]=255&F,a+=h,F/=256,j-=8);for(C=C<<j|F,u+=j;0<u;v[m+a]=255&C,a+=h,C/=256,u-=8);v[m+a-h]|=128*p}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/ieee754/index.js","/node_modules/gulp-browserify/node_modules/ieee754")},{buffer:3,lYpoI2:11}],11:[function(t,i,o){(function(d,g,_,S,E,b,k,O,R){var v,D,m;function M(){}(d=i.exports={}).nextTick=(D=typeof window<"u"&&window.setImmediate,m=typeof window<"u"&&window.postMessage&&window.addEventListener,D?function(j){return window.setImmediate(j)}:m?(v=[],window.addEventListener("message",function(j){var w=j.source;w!==window&&w!==null||j.data!=="process-tick"||(j.stopPropagation(),0<v.length&&v.shift()())},!0),function(j){v.push(j),window.postMessage("process-tick","*")}):function(j){setTimeout(j,0)}),d.title="browser",d.browser=!0,d.env={},d.argv=[],d.on=M,d.addListener=M,d.once=M,d.off=M,d.removeListener=M,d.removeAllListeners=M,d.emit=M,d.binding=function(j){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(j){throw new Error("process.chdir is not supported")}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/process/browser.js","/node_modules/gulp-browserify/node_modules/process")},{buffer:3,lYpoI2:11}]},{},[1])(1)})})(dn);var Pn=dn.exports;const Dn=ht(Pn);var hn=["precision","highp","mediump","lowp","attribute","const","uniform","varying","break","continue","do","for","while","if","else","in","out","inout","float","int","uint","void","bool","true","false","discard","return","mat2","mat3","mat4","vec2","vec3","vec4","ivec2","ivec3","ivec4","bvec2","bvec3","bvec4","sampler1D","sampler2D","sampler3D","samplerCube","sampler1DShadow","sampler2DShadow","struct","asm","class","union","enum","typedef","template","this","packed","goto","switch","default","inline","noinline","volatile","public","static","extern","external","interface","long","short","double","half","fixed","unsigned","input","output","hvec2","hvec3","hvec4","dvec2","dvec3","dvec4","fvec2","fvec3","fvec4","sampler2DRect","sampler3DRect","sampler2DRectShadow","sizeof","cast","namespace","using"],Ln=["<<=",">>=","++","--","<<",">>","<=",">=","==","!=","&&","||","+=","-=","*=","/=","%=","&=","^^","^=","|=","(",")","[","]",".","!","~","*","/","%","+","-","<",">","&","^","|","?",":","=",",",";","{","}"],gn=["abs","acos","all","any","asin","atan","ceil","clamp","cos","cross","dFdx","dFdy","degrees","distance","dot","equal","exp","exp2","faceforward","floor","fract","gl_BackColor","gl_BackLightModelProduct","gl_BackLightProduct","gl_BackMaterial","gl_BackSecondaryColor","gl_ClipPlane","gl_ClipVertex","gl_Color","gl_DepthRange","gl_DepthRangeParameters","gl_EyePlaneQ","gl_EyePlaneR","gl_EyePlaneS","gl_EyePlaneT","gl_Fog","gl_FogCoord","gl_FogFragCoord","gl_FogParameters","gl_FragColor","gl_FragCoord","gl_FragData","gl_FragDepth","gl_FragDepthEXT","gl_FrontColor","gl_FrontFacing","gl_FrontLightModelProduct","gl_FrontLightProduct","gl_FrontMaterial","gl_FrontSecondaryColor","gl_LightModel","gl_LightModelParameters","gl_LightModelProducts","gl_LightProducts","gl_LightSource","gl_LightSourceParameters","gl_MaterialParameters","gl_MaxClipPlanes","gl_MaxCombinedTextureImageUnits","gl_MaxDrawBuffers","gl_MaxFragmentUniformComponents","gl_MaxLights","gl_MaxTextureCoords","gl_MaxTextureImageUnits","gl_MaxTextureUnits","gl_MaxVaryingFloats","gl_MaxVertexAttribs","gl_MaxVertexTextureImageUnits","gl_MaxVertexUniformComponents","gl_ModelViewMatrix","gl_ModelViewMatrixInverse","gl_ModelViewMatrixInverseTranspose","gl_ModelViewMatrixTranspose","gl_ModelViewProjectionMatrix","gl_ModelViewProjectionMatrixInverse","gl_ModelViewProjectionMatrixInverseTranspose","gl_ModelViewProjectionMatrixTranspose","gl_MultiTexCoord0","gl_MultiTexCoord1","gl_MultiTexCoord2","gl_MultiTexCoord3","gl_MultiTexCoord4","gl_MultiTexCoord5","gl_MultiTexCoord6","gl_MultiTexCoord7","gl_Normal","gl_NormalMatrix","gl_NormalScale","gl_ObjectPlaneQ","gl_ObjectPlaneR","gl_ObjectPlaneS","gl_ObjectPlaneT","gl_Point","gl_PointCoord","gl_PointParameters","gl_PointSize","gl_Position","gl_ProjectionMatrix","gl_ProjectionMatrixInverse","gl_ProjectionMatrixInverseTranspose","gl_ProjectionMatrixTranspose","gl_SecondaryColor","gl_TexCoord","gl_TextureEnvColor","gl_TextureMatrix","gl_TextureMatrixInverse","gl_TextureMatrixInverseTranspose","gl_TextureMatrixTranspose","gl_Vertex","greaterThan","greaterThanEqual","inversesqrt","length","lessThan","lessThanEqual","log","log2","matrixCompMult","max","min","mix","mod","normalize","not","notEqual","pow","radians","reflect","refract","sign","sin","smoothstep","sqrt","step","tan","texture2D","texture2DLod","texture2DProj","texture2DProjLod","textureCube","textureCubeLod","texture2DLodEXT","texture2DProjLodEXT","textureCubeLodEXT","texture2DGradEXT","texture2DProjGradEXT","textureCubeGradEXT"],kn=hn,Rn=kn.slice().concat(["layout","centroid","smooth","case","mat2x2","mat2x3","mat2x4","mat3x2","mat3x3","mat3x4","mat4x2","mat4x3","mat4x4","uvec2","uvec3","uvec4","samplerCubeShadow","sampler2DArray","sampler2DArrayShadow","isampler2D","isampler3D","isamplerCube","isampler2DArray","usampler2D","usampler3D","usamplerCube","usampler2DArray","coherent","restrict","readonly","writeonly","resource","atomic_uint","noperspective","patch","sample","subroutine","common","partition","active","filter","image1D","image2D","image3D","imageCube","iimage1D","iimage2D","iimage3D","iimageCube","uimage1D","uimage2D","uimage3D","uimageCube","image1DArray","image2DArray","iimage1DArray","iimage2DArray","uimage1DArray","uimage2DArray","image1DShadow","image2DShadow","image1DArrayShadow","image2DArrayShadow","imageBuffer","iimageBuffer","uimageBuffer","sampler1DArray","sampler1DArrayShadow","isampler1D","isampler1DArray","usampler1D","usampler1DArray","isampler2DRect","usampler2DRect","samplerBuffer","isamplerBuffer","usamplerBuffer","sampler2DMS","isampler2DMS","usampler2DMS","sampler2DMSArray","isampler2DMSArray","usampler2DMSArray"]),xt=gn;xt=xt.slice().filter(function(r){return!/^(gl\_|texture)/.test(r)});var Nn=xt.concat(["gl_VertexID","gl_InstanceID","gl_Position","gl_PointSize","gl_FragCoord","gl_FrontFacing","gl_FragDepth","gl_PointCoord","gl_MaxVertexAttribs","gl_MaxVertexUniformVectors","gl_MaxVertexOutputVectors","gl_MaxFragmentInputVectors","gl_MaxVertexTextureImageUnits","gl_MaxCombinedTextureImageUnits","gl_MaxTextureImageUnits","gl_MaxFragmentUniformVectors","gl_MaxDrawBuffers","gl_MinProgramTexelOffset","gl_MaxProgramTexelOffset","gl_DepthRangeParameters","gl_DepthRange","trunc","round","roundEven","isnan","isinf","floatBitsToInt","floatBitsToUint","intBitsToFloat","uintBitsToFloat","packSnorm2x16","unpackSnorm2x16","packUnorm2x16","unpackUnorm2x16","packHalf2x16","unpackHalf2x16","outerProduct","transpose","determinant","inverse","texture","textureSize","textureProj","textureLod","textureOffset","texelFetch","texelFetchOffset","textureProjOffset","textureLodOffset","textureProjLod","textureProjLodOffset","textureGrad","textureGradOffset","textureProjGrad","textureProjGradOffset"]),Bn=Wn,Un=hn,Gt=Ln,Fn=gn,Hn=Rn,zn=Nn,fe=999,Yt=9999,yt=0,vt=1,qt=2,Wt=3,$t=4,ke=5,Vn=6,Kn=7,Gn=8,Qt=9,Yn=10,Xt=11,qn=["block-comment","line-comment","preprocessor","operator","integer","float","ident","builtin","keyword","whitespace","eof","integer"];function Wn(r){var e=0,t=0,i=fe,o,d,g=[],_=[],S=1,E=0,b=0,k=!1,O=!1,R="",v;r=r||{};var D=Fn,m=Un;r.version==="300 es"&&(D=zn,m=Hn);for(var M={},j={},e=0;e<D.length;e++)M[D[e]]=!0;for(var e=0;e<m.length;e++)j[m[e]]=!0;return function(B){return _=[],B!==null?C(B):F()};function w(B){B.length&&_.push({type:qn[i],data:B,position:b,line:S,column:E})}function C(B){e=0,B.toString&&(B=B.toString()),R+=B.replace(/\r\n/g,`
`),v=R.length;for(var W;o=R[e],e<v;){switch(W=e,i){case yt:e=a();break;case vt:e=l();break;case qt:e=s();break;case Wt:e=h();break;case $t:e=U();break;case Xt:e=H();break;case ke:e=z();break;case Yt:e=L();break;case Qt:e=y();break;case fe:e=u();break}if(W!==e)switch(R[W]){case`
`:E=0,++S;break;default:++E;break}}return t+=e,R=R.slice(e),_}function F(B){return g.length&&w(g.join("")),i=Yn,w("(eof)"),_}function u(){return g=g.length?[]:g,d==="/"&&o==="*"?(b=t+e-1,i=yt,d=o,e+1):d==="/"&&o==="/"?(b=t+e-1,i=vt,d=o,e+1):o==="#"?(i=qt,b=t+e,e):/\s/.test(o)?(i=Qt,b=t+e,e):(k=/\d/.test(o),O=/[^\w_]/.test(o),b=t+e,i=k?$t:O?Wt:Yt,e)}function y(){return/[^\s]/g.test(o)?(w(g.join("")),i=fe,e):(g.push(o),d=o,e+1)}function s(){return(o==="\r"||o===`
`)&&d!=="\\"?(w(g.join("")),i=fe,e):(g.push(o),d=o,e+1)}function l(){return s()}function a(){return o==="/"&&d==="*"?(g.push(o),w(g.join("")),i=fe,e+1):(g.push(o),d=o,e+1)}function h(){if(d==="."&&/\d/.test(o))return i=ke,e;if(d==="/"&&o==="*")return i=yt,e;if(d==="/"&&o==="/")return i=vt,e;if(o==="."&&g.length){for(;p(g););return i=ke,e}if(o===";"||o===")"||o==="("){if(g.length)for(;p(g););return w(o),i=fe,e+1}var B=g.length===2&&o!=="=";if(/[\w_\d\s]/.test(o)||B){for(;p(g););return i=fe,e}return g.push(o),d=o,e+1}function p(B){var W=0,q,G;do{if(q=Gt.indexOf(B.slice(0,B.length+W).join("")),G=Gt[q],q===-1){if(W--+B.length>0)continue;G=B.slice(0,1).join("")}return w(G),b+=G.length,g=g.slice(G.length),g.length}while(1)}function H(){return/[^a-fA-F0-9]/.test(o)?(w(g.join("")),i=fe,e):(g.push(o),d=o,e+1)}function U(){return o==="."||/[eE]/.test(o)?(g.push(o),i=ke,d=o,e+1):o==="x"&&g.length===1&&g[0]==="0"?(i=Xt,g.push(o),d=o,e+1):/[^\d]/.test(o)?(w(g.join("")),i=fe,e):(g.push(o),d=o,e+1)}function z(){return o==="f"&&(g.push(o),d=o,e+=1),/[eE]/.test(o)||(o==="-"||o==="+")&&/[eE]/.test(d)?(g.push(o),d=o,e+1):/[^\d]/.test(o)?(w(g.join("")),i=fe,e):(g.push(o),d=o,e+1)}function L(){if(/[^\d\w_]/.test(o)){var B=g.join("");return j[B]?i=Gn:M[B]?i=Kn:i=Vn,w(g.join("")),i=fe,e}return g.push(o),d=o,e+1}}var $n=Bn,Qn=Xn;function Xn(r,e){var t=$n(e),i=[];return i=i.concat(t(r)),i=i.concat(t(null)),i}const Jn=ht(Qn);var Zn=er;function er(r){for(var e=[],t=0;t<r.length;t++)r[t].type!=="eof"&&e.push(r[t].data);return e.join("")}const Jt=ht(Zn);var tr=nr;function nr(r){var e=null,t=null,i=0,o=0,d=0,g=0,_=0,S=[],E,b,k;for(E=0,b;E<r.length;E++)if(k=r[E],k.data==="{"){if(i&&i++||(b=R(E,ye(")"),ye()),b<0)||(g=b,b=R(b,ye("("),ye(")")),b<0)||(_=b,b=R(b,Re),b<0)||r[b].type!=="ident"||(t=r[b].data,b=R(b,Re),b<0))continue;i=1,o=E,e=r[b].data,d=b;var O=R(b,Re);switch(r[O]&&r[O].data){case"lowp":case"highp":case"mediump":d=O}}else if(i&&k.data==="}"){if(--i)continue;S.push({name:t,type:e,body:[o+1,E],args:[_,g+1],outer:[d,E+1]})}for(E=0;E<r.length;E++)if(k=r[E],k.data===";"){if(b=R(E,ye(")"),ye()),b<0||(g=b,b=R(b,ye("("),ye(")")),b<0)||(_=b,b=R(b,Re),b<0)||r[b].type!=="ident"||(t=r[b].data,b=R(b,Re),b<0)||r[b].type==="operator"||r[b].data==="return")continue;e=r[b].data,S.push({name:t,type:e,body:!1,args:[_,g+1],outer:[b,E+1]})}return S.sort(function(v,D){return v.outer[0]-D.outer[0]});function R(v,D,m){for(var M=v-1;M>=0;M--){if(D(r[M]))return M;if(m&&m(r[M]))return-1}return-1}}function ye(r){return function(e){return e.type==="operator"&&(!r||e.data===r)}}function Re(r){return r.type!=="whitespace"}const rr=ht(tr);function or(r,e){if(typeof r!="object"||r===null)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var i=t.call(r,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function pn(r){var e=or(r,"string");return typeof e=="symbol"?e:String(e)}function $(r,e,t){return e=pn(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Zt(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),t.push.apply(t,i)}return t}function Ie(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Zt(Object(t),!0).forEach(function(i){$(r,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):Zt(Object(t)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(t,i))})}return r}function ir(r,e){if(r==null)return{};var t={},i=Object.keys(r),o,d;for(d=0;d<i.length;d++)o=i[d],!(e.indexOf(o)>=0)&&(t[o]=r[o]);return t}function ar(r,e){if(r==null)return{};var t=ir(r,e),i,o;if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(r);for(o=0;o<d.length;o++)i=d[o],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(r,i)&&(t[i]=r[i])}return t}function sr(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function en(r,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,pn(i.key),i)}}function cr(r,e,t){return e&&en(r.prototype,e),t&&en(r,t),Object.defineProperty(r,"prototype",{writable:!1}),r}function mn(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function Et(r,e){return Et=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,o){return i.__proto__=o,i},Et(r,e)}function lr(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&Et(r,e)}function Xe(r){return Xe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Xe(r)}function ur(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function fr(r,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mn(r)}function dr(r){var e=ur();return function(){var i=Xe(r),o;if(e){var d=Xe(this).constructor;o=Reflect.construct(i,arguments,d)}else o=i.apply(this,arguments);return fr(this,o)}}var K={position:"csm_Position",positionRaw:"csm_PositionRaw",pointSize:"csm_PointSize",fragColor:"csm_FragColor",diffuseColor:"csm_DiffuseColor",normal:"csm_Normal",roughness:"csm_Roughness",metalness:"csm_Metalness",emissive:"csm_Emissive",ao:"csm_AO",bump:"csm_Bump",depthAlpha:"csm_DepthAlpha"},ae,Ce,hr=(ae={},$(ae,"".concat(K.normal),{"#include <beginnormal_vertex>":`
    vec3 objectNormal = `.concat(K.normal,`;
    #ifdef USE_TANGENT
	    vec3 objectTangent = vec3( tangent.xyz );
    #endif
    `)}),$(ae,"".concat(K.position),{"#include <begin_vertex>":`
    vec3 transformed = `.concat(K.position,`;
  `)}),$(ae,"".concat(K.positionRaw),{"#include <begin_vertex>":`
    vec4 csm_internal_positionUnprojected = `.concat(K.positionRaw,`;
    mat4x4 csm_internal_unprojectMatrix = projectionMatrix * modelViewMatrix;
    #ifdef USE_INSTANCING
      csm_internal_unprojectMatrix = csm_internal_unprojectMatrix * instanceMatrix;
    #endif
    csm_internal_positionUnprojected = inverse(csm_internal_unprojectMatrix) * csm_internal_positionUnprojected;
    vec3 transformed = csm_internal_positionUnprojected.xyz;
  `)}),$(ae,"".concat(K.pointSize),{"gl_PointSize = size;":`
    gl_PointSize = `.concat(K.pointSize,`;
    `)}),$(ae,"".concat(K.diffuseColor),{"#include <color_fragment>":`
    #include <color_fragment>
    diffuseColor = `.concat(K.diffuseColor,`;
  `)}),$(ae,"".concat(K.fragColor),{"#include <dithering_fragment>":`
    #include <dithering_fragment>
    gl_FragColor  = `.concat(K.fragColor,`;
  `)}),$(ae,"".concat(K.emissive),{"vec3 totalEmissiveRadiance = emissive;":`
    vec3 totalEmissiveRadiance = `.concat(K.emissive,`;
    `)}),$(ae,"".concat(K.roughness),{"#include <roughnessmap_fragment>":`
    #include <roughnessmap_fragment>
    roughnessFactor = `.concat(K.roughness,`;
    `)}),$(ae,"".concat(K.metalness),{"#include <metalnessmap_fragment>":`
    #include <metalnessmap_fragment>
    metalnessFactor = `.concat(K.metalness,`;
    `)}),$(ae,"".concat(K.ao),{"#include <aomap_fragment>":`
    #include <aomap_fragment>
    reflectedLight.indirectDiffuse *= 1. - `.concat(K.ao,`;
    `)}),$(ae,"".concat(K.bump),{"#include <normal_fragment_maps>":`
    #include <normal_fragment_maps>

    vec3 csm_internal_orthogonal = `.concat(K.bump," - (dot(").concat(K.bump,`, normal) * normal);
    vec3 csm_internal_projectedbump = mat3(csm_internal_vModelViewMatrix) * csm_internal_orthogonal;
    normal = normalize(normal - csm_internal_projectedbump);
    `)}),$(ae,"".concat(K.depthAlpha),{"gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );":`
      gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity * `.concat(K.depthAlpha,` );
    `),"gl_FragColor = packDepthToRGBA( fragCoordZ );":`
      gl_FragColor = packDepthToRGBA( fragCoordZ );
      gl_FragColor.a *= `.concat(K.depthAlpha,`;
    `)}),ae),gr=(Ce={},$(Ce,"".concat(K.position),{"gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );":`
    gl_Position = projectionMatrix * modelViewMatrix * vec4( `.concat(K.position,`, 1.0 );
  `)}),$(Ce,"".concat(K.positionRaw),{"gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );":`
    gl_Position = `.concat(K.position,`;
  `)}),$(Ce,"".concat(K.diffuseColor),{"gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );":`
    gl_FragColor = `.concat(K.diffuseColor,`;
  `)}),$(Ce,"".concat(K.fragColor),{"gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );":`
    gl_FragColor = `.concat(K.fragColor,`;
  `)}),Ce),pr=`

#ifdef IS_VERTEX
    // csm_Position & csm_PositionRaw
    #ifdef IS_UNKNOWN
        vec3 csm_Position = vec3(0.0);
        vec4 csm_PositionRaw = vec4(0.0);
        vec3 csm_Normal = vec3(0.0);
    #else
        vec3 csm_Position = position;
        vec4 csm_PositionRaw = projectionMatrix * modelViewMatrix * vec4(position, 1.);
        vec3 csm_Normal = normal;
    #endif

    // csm_PointSize
    #ifdef IS_POINTSMATERIAL
        float csm_PointSize = size;
    #endif
#else
    // csm_DiffuseColor & csm_FragColor
    #if defined IS_UNKNOWN || defined IS_SHADERMATERIAL || defined IS_MESHDEPTHMATERIAL || defined IS_MESHNORMALMATERIAL || defined IS_SHADOWMATERIAL
        vec4 csm_DiffuseColor = vec4(1.0, 0.0, 1.0, 1.0);
        vec4 csm_FragColor = vec4(1.0, 0.0, 1.0, 1.0);
    #else
        #ifdef USE_MAP
            vec4 _csm_sampledDiffuseColor = texture2D(map, vMapUv);

            #ifdef DECODE_VIDEO_TEXTURE
            // inline sRGB decode (TODO: Remove this code when https://crbug.com/1256340 is solved)
            _csm_sampledDiffuseColor = vec4(mix(pow(_csm_sampledDiffuseColor.rgb * 0.9478672986 + vec3(0.0521327014), vec3(2.4)), _csm_sampledDiffuseColor.rgb * 0.0773993808, vec3(lessThanEqual(_csm_sampledDiffuseColor.rgb, vec3(0.04045)))), _csm_sampledDiffuseColor.w);
            #endif

            vec4 csm_DiffuseColor = vec4(diffuse, opacity) * _csm_sampledDiffuseColor;
            vec4 csm_FragColor = vec4(diffuse, opacity) * _csm_sampledDiffuseColor;
        #else
            vec4 csm_DiffuseColor = vec4(diffuse, opacity);
            vec4 csm_FragColor = vec4(diffuse, opacity);
        #endif
    #endif

    // csm_Emissive, csm_Roughness, csm_Metalness
    #if defined IS_MESHSTANDARDMATERIAL || defined IS_MESHPHYSICALMATERIAL
        vec3 csm_Emissive = emissive;
        float csm_Roughness = roughness;
        float csm_Metalness = metalness;
    #endif

    // csm_AO
    #if defined IS_MESHSTANDARDMATERIAL || defined IS_MESHPHYSICALMATERIAL || defined IS_MESHBASICMATERIAL || defined IS_MESHLAMBERTMATERIAL || defined IS_MESHPHONGMATERIAL || defined IS_MESHTOONMATERIAL
        float csm_AO = 0.0;
    #endif

    // csm_Bump
    #if defined IS_MESHLAMBERTMATERIAL || defined IS_MESHMATCAPMATERIAL || defined IS_MESHNORMALMATERIAL || defined IS_MESHPHONGMATERIAL || defined IS_MESHPHYSICALMATERIAL || defined IS_MESHSTANDARDMATERIAL || defined IS_MESHTOONMATERIAL || defined IS_SHADOWMATERIAL 
        vec3 csm_Bump = vec3(0.0);
    #endif

    float csm_DepthAlpha = 1.0;
#endif
`,mr=`
    varying mat4 csm_internal_vModelViewMatrix;
`,yr=`
    csm_internal_vModelViewMatrix = modelViewMatrix;
`,vr=`
    varying mat4 csm_internal_vModelViewMatrix;
`,br=`
    
`,se,_r=(se={},$(se,"".concat(K.position),"*"),$(se,"".concat(K.positionRaw),"*"),$(se,"".concat(K.normal),"*"),$(se,"".concat(K.pointSize),["PointsMaterial"]),$(se,"".concat(K.diffuseColor),"*"),$(se,"".concat(K.fragColor),"*"),$(se,"".concat(K.emissive),["MeshStandardMaterial","MeshPhysicalMaterial"]),$(se,"".concat(K.roughness),["MeshStandardMaterial","MeshPhysicalMaterial"]),$(se,"".concat(K.metalness),["MeshStandardMaterial","MeshPhysicalMaterial"]),$(se,"".concat(K.ao),["MeshStandardMaterial","MeshPhysicalMaterial","MeshBasicMaterial","MeshLambertMaterial","MeshPhongMaterial","MeshToonMaterial"]),$(se,"".concat(K.bump),["MeshLambertMaterial","MeshMatcapMaterial","MeshNormalMaterial","MeshPhongMaterial","MeshPhysicalMaterial","MeshStandardMaterial","MeshToonMaterial","ShadowMaterial"]),$(se,"".concat(K.depthAlpha),"*"),se),wr=["baseMaterial","fragmentShader","vertexShader","uniforms","patchMap","cacheKey","silent"],Sr=function(e,t,i){return e.split(t).join(i)},xr=function(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")},Er=function(e,t){return new RegExp("\\b".concat(xr(t),"\\b")).test(e)};function Mr(r){try{new r}catch(e){if(e.message.indexOf("is not a constructor")>=0)return!1}return!0}function Ar(r,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;Object.assign(r,e);var i=Object.getPrototypeOf(e);Object.entries(Object.getOwnPropertyDescriptors(i)).filter(function(o){var d=typeof o[1].get=="function",g=typeof o[1].set=="function",_=typeof o[1].value=="function",S=o[0]==="constructor";return(d||g||_)&&!S}).forEach(function(o){if(typeof r[o[0]]=="function"){t||console.warn("Function ".concat(o[0]," already exists on CSM, renaming to base_").concat(o[0]));var d="base_".concat(o[0]);r[d]=o[1].value.bind(r);return}Object.defineProperty(r,o[0],o[1])})}function Ir(r){var e=r.toString().trim(),t=e.substring(e.indexOf("{")+1,e.lastIndexOf("}"));return t.trim().length===0}function tn(r){return r.replace(/\s/g,"")}function Cr(r,e,t){var i=r.lastIndexOf(e);return i===-1?r:r.substring(0,i)+t+r.substring(i+e.length)}var jr=function(r){lr(t,r);var e=dr(t);function t(i){var o,d=i.baseMaterial,g=i.fragmentShader,_=i.vertexShader,S=i.uniforms,E=i.patchMap,b=i.cacheKey,k=i.silent,O=ar(i,wr);sr(this,t);var R;if(Mr(d)?R=new d(O):(R=d,Object.assign(R,O)),R.type==="RawShaderMaterial")throw new Error("CustomShaderMaterial does not support RawShaderMaterial");o=e.call(this),Ar(mn(o),R,k),o.__csm={patchMap:E||{},fragmentShader:g||"",vertexShader:_||"",cacheKey:b,baseMaterial:d,instanceID:Mn.generateUUID(),type:R.type,isAlreadyExtended:!Ir(R.onBeforeCompile),cacheHash:"",silent:k},o.uniforms=Ie(Ie({},o.uniforms||{}),S||{});{var v=o.__csm,D=v.fragmentShader,m=v.vertexShader,M=o.uniforms;o.__csm.cacheHash=o.getCacheHash(),o.generateMaterial(D,m,M)}return o}return cr(t,[{key:"update",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.uniforms=o.uniforms||this.uniforms,Object.assign(this.__csm,o);var d=this.__csm,g=d.fragmentShader,_=d.vertexShader,S=this.uniforms,E=this.getCacheHash();this.__csm.cacheHash=E,this.generateMaterial(g,_,S)}},{key:"clone",value:function(){var o={baseMaterial:this.__csm.baseMaterial,fragmentShader:this.__csm.fragmentShader,vertexShader:this.__csm.vertexShader,uniforms:this.uniforms,silent:this.__csm.silent,patchMap:this.__csm.patchMap,cacheKey:this.__csm.cacheKey},d=new this.constructor(o);return Object.assign(this,d),d}},{key:"getCacheHash",value:function(){var o=this.__csm,d=o.fragmentShader,g=o.vertexShader,_=this.uniforms,S=Object.values(_).reduce(function(b,k){var O=k.value;return b+JSON.stringify(O)},""),E=tn(d)+tn(g)+S;return E.trim().length>0?Dn(E):this.customProgramCacheKey()}},{key:"generateMaterial",value:function(o,d,g){var _=this,S=this.parseShader(o),E=this.parseShader(d);this.uniforms=g||{},this.customProgramCacheKey=function(){return _.__csm.cacheHash};var b=function(R){try{if(S){var v=_.patchShader(S,R.fragmentShader,!0);R.fragmentShader=_.getMaterialDefine()+v}if(E){var D=_.patchShader(E,R.vertexShader);R.vertexShader=`#define IS_VERTEX;
`+D,R.vertexShader=_.getMaterialDefine()+R.vertexShader}R.uniforms=Ie(Ie({},R.uniforms),_.uniforms),_.uniforms=R.uniforms}catch(m){console.error(m)}};if(this.__csm.isAlreadyExtended){var k=this.onBeforeCompile;this.onBeforeCompile=function(O,R){k(O,R),b(O)}}else this.onBeforeCompile=b;this.needsUpdate=!0}},{key:"patchShader",value:function(o,d,g){var _=this,S=d,E=Ie(Ie({},this.getPatchMapForMaterial()),this.__csm.patchMap);Object.keys(E).forEach(function(O){Object.keys(E[O]).forEach(function(R){var v=_r[O],D=_.__csm.type;if(O==="*"||Er(o.main,O))if(!v||Array.isArray(v)&&v.includes(D)||v==="*")S=Sr(S,R,E[O][R]);else throw new Error("CSM: ".concat(O," is not available in ").concat(D,". Shader cannot compile."))})}),S=S.replace("void main() {",`
        #ifndef CSM_IS_HEAD_DEFAULTS_DEFINED
          `.concat(g?vr:mr,`
          #define CSM_IS_HEAD_DEFAULTS_DEFINED 1
        #endif

        `).concat(o.header,`
        
        void main() {
          #ifndef CSM_IS_DEFAULTS_DEFINED
            `).concat(pr,`
            #define CSM_IS_DEFAULTS_DEFINED 1
          #endif
          
          #ifndef CSM_IS_MAIN_DEFAULTS_DEFINED
            `).concat(g?br:yr,`
            #define CSM_IS_MAIN_DEFAULTS_DEFINED 1
          #endif

          // CSM_START
      `));var b=this.__csm.isAlreadyExtended,k=S.includes("// CSM_END");return b&&k?S=Cr(S,"// CSM_END",`
          // CSM_END
          `.concat(o.main,`
          // CSM_END
        `)):S=S.replace("// CSM_START",`
        // CSM_START
        `.concat(o.main,`
        // CSM_END
          `)),S=o.defines+S,S}},{key:"parseShader",value:function(o){if(o){var d=o.replace(/\/\*\*(.*?)\*\/|\/\/(.*?)\n/gm,""),g=Jn(d),_=rr(g),S=_.map(function(k){return k.name}).indexOf("main"),E=Jt(g.slice(0,S>=0?_[S].outer[0]:void 0)),b=S>=0?this.getShaderFromIndex(g,_[S].body):"";return{defines:"",header:E,main:b}}}},{key:"getMaterialDefine",value:function(){var o=this.__csm.type;return o?"#define IS_".concat(o.toUpperCase(),`;
`):`#define IS_UNKNOWN;
`}},{key:"getPatchMapForMaterial",value:function(){switch(this.__csm.type){case"ShaderMaterial":return gr;default:return hr}}},{key:"getShaderFromIndex",value:function(o,d){return Jt(o.slice(d[0],d[1]))}}]),t}(An);function yn({position:r,proposal:e,length:t,radius:i,quorum:o}){const d=te.lcd.use(),g=te.data.stake.total.use(),_=te.chainID.use(),S=te.data.govern[e==null?void 0:e.id].tally.use();In.useEffect(()=>{e&&d.gov.tally(e==null?void 0:e.id,_).then(D=>te.data.govern[e.id].tally.set(D))},[]);const E=(S==null?void 0:S.yes.toString())/g*t,b=(S==null?void 0:S.no.toString())/g*t,k=(S==null?void 0:S.no_with_veto.toString())/g*t,O=(S==null?void 0:S.abstain.toString())/g*t,R=E+b+k+O;var v=new jr({baseMaterial:new Cn({metalness:1,roughness:.15}),uniforms:{bboxMin:{value:new Vt(0,(E+b+k+O)/2,0)},bboxMax:{value:new Vt(0,-(E+b+k+O)/2,0)},yesPercentage:{value:E/R},noPercentage:{value:b/R},vetoPercentage:{value:k/R},abstainPercentage:{value:O/R}},vertexShader:`
    uniform vec3 bboxMin;
    uniform vec3 bboxMax;
  
    varying vec2 vUv;

    void main() {
      vUv.y = (position.y - bboxMin.y) / (bboxMax.y - bboxMin.y);
      gl_Position = projectionMatrix * modelViewMatrix * vec4(position,1.0);
    }
  `,fragmentShader:`
    varying vec2 vUv;

    uniform float yesPercentage;
    uniform float noPercentage;
    uniform float vetoPercentage;
    uniform float abstainPercentage;

    void main() {
      vec3 color = vec3(0.0);
    if (vUv.y < yesPercentage) {
        color = vec3(0.0, 1.0, 0.0);  // Green (RGB)
    } else if (vUv.y < (yesPercentage + noPercentage)) {
        color = vec3(1.0, 0.0, 0.0);  // Red (RGB)
    } else if (vUv.y < (yesPercentage + noPercentage + vetoPercentage)) {
        color = vec3(1.0, 0.5, 0.0);  // Orange (RGB)
    } else if (vUv.y < (yesPercentage + noPercentage + vetoPercentage + abstainPercentage)) {
        color = vec3(1.0, 1.0, 0.0);  // Yellow (RGB)
    }
    csm_DiffuseColor = vec4(color, 1.0);
    }
  `,silent:!0,transparent:!0});return V.jsxs("group",{position:r,children:[V.jsxs("mesh",{position:[0,0,0],rotation:[0,0,90*(Math.PI/180)],children:[V.jsx("capsuleGeometry",{args:[i,t-i*2]}),V.jsx("meshStandardMaterial",{transparent:!0,opacity:.3,color:"white",depthWrite:!1})]}),V.jsxs("mesh",{position:[-t/2+t*o,i*2.5,0],rotation:[0,0,Math.PI],scale:5,children:[V.jsx("meshStandardMaterial",{color:16562691,roughness:.3,metalness:1}),V.jsx("coneGeometry",{args:[1,3]})]}),S&&V.jsx("mesh",{material:v,position:[(-t+E+b+k+O)/2,0,0],rotation:[0,0,90*(Math.PI/180)],children:V.jsx("capsuleGeometry",{args:[i,E+b+k+O-i*2]})})]})}const Tr="/station3d/sounds/sound_6.mp3",Or="ontouchstart"in document.documentElement;function Pr(){const r=te.data.govern.proposals.use(),e=Or?1:2,t=500,i=300,o=te.Hud.Govern.scroll.use(),d=Math.round(o/i*e/e)*e,[g]=On(Tr,{volume:te.volume.use(),sprite:{0:[500,1e3]}});return V.jsx(V.Fragment,{children:r==null?void 0:r.slice(0,d+6).map((_,S)=>S>=d-2&&V.jsx(Dr,{proposal:_,index:S,columns:e,xspacing:t,yspacing:i,play:g,p:!0},S))})}function Dr({proposal:r,index:e,columns:t,xspacing:i,yspacing:o,play:d}){var E;const g=Tn(),_=te.data.govern.parameters.use(),S=()=>{te.Govern.proposal.set(r),te.Hud.event.set("Proposal"),d({id:"0"})};return V.jsxs("group",{position:[e%t*i-(t-1)*i/2,-Math.floor(e/t)*o+g.height/2-150,0],children:[V.jsx(fn,{position:[0,0,0],scale:60,animate:!0,onClick:S}),V.jsx(yn,{position:[0,-90,0],proposal:r,length:250,radius:6,quorum:_==null?void 0:_.tally_params.quorum.toString()}),V.jsx(Pt,{position:[0,-140,0],children:V.jsx("p",{style:{fontSize:25,width:"400px",height:"50px",fontWeight:"bold",whiteSpace:"normal"},children:(E=r==null?void 0:r.content)==null?void 0:E.title})})]})}const Lr="aaa1rp3barth4b0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0faromeo7ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4vianca6w0s2x0a2z0ure5ba0by2idu3namex3narepublic11d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2ntley5rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re2s2c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y0eats7k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0cast4mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking0channel11l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dabur3d1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t0isalat7u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0at2delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d0network8tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntdoor4ier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0ardian6cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5gtv3iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0eles2s3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6logistics9properties14fh2g1h1i0a1ds2m1nder2le4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3ncaster5ia3d0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4de2k2psy3ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0cys3drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7serati6ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic3tual5v1w1x1y1z2na0b1goya4me2tura4vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rthwesternmutual14on4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9dnavy5lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3ssagens7y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0america6xi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cher3ks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0a1b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp2w2ell3ia1ksha5oes2p0ping5uji3w0time7i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ffany5ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0channel7ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lkswagen7vo3te1ing3o2yage5u0elos6wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4finity6ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",kr="1213426321653223333353565455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",Le=(r,e)=>{for(const t in e)r[t]=e[t];return r},Mt="numeric",At="ascii",It="alpha",$e="asciinumeric",Ge="alphanumeric",Ct="domain",vn="emoji",Rr="scheme",Nr="slashscheme",nn="whitespace";function Br(r,e){return r in e||(e[r]=[]),e[r]}function Me(r,e,t){e[Mt]&&(e[$e]=!0,e[Ge]=!0),e[At]&&(e[$e]=!0,e[It]=!0),e[$e]&&(e[Ge]=!0),e[It]&&(e[Ge]=!0),e[Ge]&&(e[Ct]=!0),e[vn]&&(e[Ct]=!0);for(const i in e){const o=Br(i,t);o.indexOf(r)<0&&o.push(r)}}function Ur(r,e){const t={};for(const i in e)e[i].indexOf(r)>=0&&(t[i]=!0);return t}function ce(r){r===void 0&&(r=null),this.j={},this.jr=[],this.jd=null,this.t=r}ce.groups={};ce.prototype={accepts(){return!!this.t},go(r){const e=this,t=e.j[r];if(t)return t;for(let i=0;i<e.jr.length;i++){const o=e.jr[i][0],d=e.jr[i][1];if(d&&o.test(r))return d}return e.jd},has(r,e){return e===void 0&&(e=!1),e?r in this.j:!!this.go(r)},ta(r,e,t,i){for(let o=0;o<r.length;o++)this.tt(r[o],e,t,i)},tr(r,e,t,i){i=i||ce.groups;let o;return e&&e.j?o=e:(o=new ce(e),t&&i&&Me(e,t,i)),this.jr.push([r,o]),o},ts(r,e,t,i){let o=this;const d=r.length;if(!d)return o;for(let g=0;g<d-1;g++)o=o.tt(r[g]);return o.tt(r[d-1],e,t,i)},tt(r,e,t,i){i=i||ce.groups;const o=this;if(e&&e.j)return o.j[r]=e,e;const d=e;let g,_=o.go(r);if(_?(g=new ce,Le(g.j,_.j),g.jr.push.apply(g.jr,_.jr),g.jd=_.jd,g.t=_.t):g=new ce,d){if(i)if(g.t&&typeof g.t=="string"){const S=Le(Ur(g.t,i),t);Me(d,S,i)}else t&&Me(d,t,i);g.t=d}return o.j[r]=g,g}};const N=(r,e,t,i,o)=>r.ta(e,t,i,o),le=(r,e,t,i,o)=>r.tr(e,t,i,o),rn=(r,e,t,i,o)=>r.ts(e,t,i,o),I=(r,e,t,i,o)=>r.tt(e,t,i,o),me="WORD",jt="UWORD",He="LOCALHOST",Tt="TLD",Ot="UTLD",Qe="SCHEME",Te="SLASH_SCHEME",Dt="NUM",bn="WS",Lt="NL",Oe="OPENBRACE",Ne="OPENBRACKET",Be="OPENANGLEBRACKET",Ue="OPENPAREN",xe="CLOSEBRACE",Pe="CLOSEBRACKET",De="CLOSEANGLEBRACKET",Ee="CLOSEPAREN",Je="AMPERSAND",Ze="APOSTROPHE",et="ASTERISK",be="AT",tt="BACKSLASH",nt="BACKTICK",rt="CARET",_e="COLON",kt="COMMA",ot="DOLLAR",de="DOT",it="EQUALS",Rt="EXCLAMATION",he="HYPHEN",at="PERCENT",st="PIPE",ct="PLUS",lt="POUND",ut="QUERY",Nt="QUOTE",Bt="SEMI",ge="SLASH",Fe="TILDE",ft="UNDERSCORE",_n="EMOJI",dt="SYM";var wn=Object.freeze({__proto__:null,WORD:me,UWORD:jt,LOCALHOST:He,TLD:Tt,UTLD:Ot,SCHEME:Qe,SLASH_SCHEME:Te,NUM:Dt,WS:bn,NL:Lt,OPENBRACE:Oe,OPENBRACKET:Ne,OPENANGLEBRACKET:Be,OPENPAREN:Ue,CLOSEBRACE:xe,CLOSEBRACKET:Pe,CLOSEANGLEBRACKET:De,CLOSEPAREN:Ee,AMPERSAND:Je,APOSTROPHE:Ze,ASTERISK:et,AT:be,BACKSLASH:tt,BACKTICK:nt,CARET:rt,COLON:_e,COMMA:kt,DOLLAR:ot,DOT:de,EQUALS:it,EXCLAMATION:Rt,HYPHEN:he,PERCENT:at,PIPE:st,PLUS:ct,POUND:lt,QUERY:ut,QUOTE:Nt,SEMI:Bt,SLASH:ge,TILDE:Fe,UNDERSCORE:ft,EMOJI:_n,SYM:dt});const je=/[a-z]/,bt=/\p{L}/u,_t=/\p{Emoji}/u,wt=/\d/,on=/\s/,an=`
`,Fr="",Hr="";let Ye=null,qe=null;function zr(r){r===void 0&&(r=[]);const e={};ce.groups=e;const t=new ce;Ye==null&&(Ye=sn(Lr)),qe==null&&(qe=sn(kr)),I(t,"'",Ze),I(t,"{",Oe),I(t,"[",Ne),I(t,"<",Be),I(t,"(",Ue),I(t,"}",xe),I(t,"]",Pe),I(t,">",De),I(t,")",Ee),I(t,"&",Je),I(t,"*",et),I(t,"@",be),I(t,"`",nt),I(t,"^",rt),I(t,":",_e),I(t,",",kt),I(t,"$",ot),I(t,".",de),I(t,"=",it),I(t,"!",Rt),I(t,"-",he),I(t,"%",at),I(t,"|",st),I(t,"+",ct),I(t,"#",lt),I(t,"?",ut),I(t,'"',Nt),I(t,"/",ge),I(t,";",Bt),I(t,"~",Fe),I(t,"_",ft),I(t,"\\",tt);const i=le(t,wt,Dt,{[Mt]:!0});le(i,wt,i);const o=le(t,je,me,{[At]:!0});le(o,je,o);const d=le(t,bt,jt,{[It]:!0});le(d,je),le(d,bt,d);const g=le(t,on,bn,{[nn]:!0});I(t,an,Lt,{[nn]:!0}),I(g,an),le(g,on,g);const _=le(t,_t,_n,{[vn]:!0});le(_,_t,_),I(_,Fr,_);const S=I(_,Hr);le(S,_t,_);const E=[[je,o]],b=[[je,null],[bt,d]];for(let k=0;k<Ye.length;k++)ve(t,Ye[k],Tt,me,E);for(let k=0;k<qe.length;k++)ve(t,qe[k],Ot,jt,b);Me(Tt,{tld:!0,ascii:!0},e),Me(Ot,{utld:!0,alpha:!0},e),ve(t,"file",Qe,me,E),ve(t,"mailto",Qe,me,E),ve(t,"http",Te,me,E),ve(t,"https",Te,me,E),ve(t,"ftp",Te,me,E),ve(t,"ftps",Te,me,E),Me(Qe,{scheme:!0,ascii:!0},e),Me(Te,{slashscheme:!0,ascii:!0},e),r=r.sort((k,O)=>k[0]>O[0]?1:-1);for(let k=0;k<r.length;k++){const O=r[k][0],v=r[k][1]?{[Rr]:!0}:{[Nr]:!0};O.indexOf("-")>=0?v[Ct]=!0:je.test(O)?wt.test(O)?v[$e]=!0:v[At]=!0:v[Mt]=!0,rn(t,O,O,v)}return rn(t,"localhost",He,{ascii:!0}),t.jd=new ce(dt),{start:t,tokens:Le({groups:e},wn)}}function Vr(r,e){const t=Kr(e.replace(/[A-Z]/g,_=>_.toLowerCase())),i=t.length,o=[];let d=0,g=0;for(;g<i;){let _=r,S=null,E=0,b=null,k=-1,O=-1;for(;g<i&&(S=_.go(t[g]));)_=S,_.accepts()?(k=0,O=0,b=_):k>=0&&(k+=t[g].length,O++),E+=t[g].length,d+=t[g].length,g++;d-=k,g-=O,E-=k,o.push({t:b.t,v:e.slice(d-E,d),s:d-E,e:d})}return o}function Kr(r){const e=[],t=r.length;let i=0;for(;i<t;){let o=r.charCodeAt(i),d,g=o<55296||o>56319||i+1===t||(d=r.charCodeAt(i+1))<56320||d>57343?r[i]:r.slice(i,i+2);e.push(g),i+=g.length}return e}function ve(r,e,t,i,o){let d;const g=e.length;for(let _=0;_<g-1;_++){const S=e[_];r.j[S]?d=r.j[S]:(d=new ce(i),d.jr=o.slice(),r.j[S]=d),r=d}return d=new ce(t),d.jr=o.slice(),r.j[e[g-1]]=d,d}function sn(r){const e=[],t=[];let i=0,o="0123456789";for(;i<r.length;){let d=0;for(;o.indexOf(r[i+d])>=0;)d++;if(d>0){e.push(t.join(""));for(let g=parseInt(r.substring(i,i+d),10);g>0;g--)t.pop();i+=d}else t.push(r[i]),i++}return e}const ze={defaultProtocol:"http",events:null,format:cn,formatHref:cn,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function Ut(r,e){e===void 0&&(e=null);let t=Le({},ze);r&&(t=Le(t,r instanceof Ut?r.o:r));const i=t.ignoreTags,o=[];for(let d=0;d<i.length;d++)o.push(i[d].toUpperCase());this.o=t,e&&(this.defaultRender=e),this.ignoreTags=o}Ut.prototype={o:ze,ignoreTags:[],defaultRender(r){return r},check(r){return this.get("validate",r.toString(),r)},get(r,e,t){const i=e!=null;let o=this.o[r];return o&&(typeof o=="object"?(o=t.t in o?o[t.t]:ze[r],typeof o=="function"&&i&&(o=o(e,t))):typeof o=="function"&&i&&(o=o(e,t.t,t)),o)},getObj(r,e,t){let i=this.o[r];return typeof i=="function"&&e!=null&&(i=i(e,t.t,t)),i},render(r){const e=r.render(this);return(this.get("render",null,r)||this.defaultRender)(e,r.t,r)}};function cn(r){return r}function Sn(r,e){this.t="token",this.v=r,this.tk=e}Sn.prototype={isLink:!1,toString(){return this.v},toHref(r){return this.toString()},toFormattedString(r){const e=this.toString(),t=r.get("truncate",e,this),i=r.get("format",e,this);return t&&i.length>t?i.substring(0,t)+"":i},toFormattedHref(r){return r.get("formatHref",this.toHref(r.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(r){return r===void 0&&(r=ze.defaultProtocol),{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(r),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(r){return{type:this.t,value:this.toFormattedString(r),isLink:this.isLink,href:this.toFormattedHref(r),start:this.startIndex(),end:this.endIndex()}},validate(r){return r.get("validate",this.toString(),this)},render(r){const e=this,t=this.toHref(r.get("defaultProtocol")),i=r.get("formatHref",t,this),o=r.get("tagName",t,e),d=this.toFormattedString(r),g={},_=r.get("className",t,e),S=r.get("target",t,e),E=r.get("rel",t,e),b=r.getObj("attributes",t,e),k=r.getObj("events",t,e);return g.href=i,_&&(g.class=_),S&&(g.target=S),E&&(g.rel=E),b&&Le(g,b),{tagName:o,attributes:g,content:d,eventListeners:k}}};function gt(r,e){class t extends Sn{constructor(o,d){super(o,d),this.t=r}}for(const i in e)t.prototype[i]=e[i];return t.t=r,t}const ln=gt("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),un=gt("text"),Gr=gt("nl"),Se=gt("url",{isLink:!0,toHref(r){return r===void 0&&(r=ze.defaultProtocol),this.hasProtocol()?this.v:`${r}://${this.v}`},hasProtocol(){const r=this.tk;return r.length>=2&&r[0].t!==He&&r[1].t===_e}}),ee=r=>new ce(r);function Yr(r){let{groups:e}=r;const t=e.domain.concat([Je,et,be,tt,nt,rt,ot,it,he,Dt,at,st,ct,lt,ge,dt,Fe,ft]),i=[Ze,De,xe,Pe,Ee,_e,kt,de,Rt,Be,Oe,Ne,Ue,ut,Nt,Bt],o=[Je,Ze,et,tt,nt,rt,xe,ot,it,he,Oe,at,st,ct,lt,ut,ge,dt,Fe,ft],d=ee(),g=I(d,Fe);N(g,o,g),N(g,e.domain,g);const _=ee(),S=ee(),E=ee();N(d,e.domain,_),N(d,e.scheme,S),N(d,e.slashscheme,E),N(_,o,g),N(_,e.domain,_);const b=I(_,be);I(g,be,b),I(S,be,b),I(E,be,b);const k=I(g,de);N(k,o,g),N(k,e.domain,g);const O=ee();N(b,e.domain,O),N(O,e.domain,O);const R=I(O,de);N(R,e.domain,O);const v=ee(ln);N(R,e.tld,v),N(R,e.utld,v),I(b,He,v);const D=I(O,he);N(D,e.domain,O),N(v,e.domain,O),I(v,de,R),I(v,he,D);const m=I(v,_e);N(m,e.numeric,ln);const M=I(_,he),j=I(_,de);N(M,e.domain,_),N(j,o,g),N(j,e.domain,_);const w=ee(Se);N(j,e.tld,w),N(j,e.utld,w),N(w,e.domain,_),N(w,o,g),I(w,de,j),I(w,he,M),I(w,be,b);const C=I(w,_e),F=ee(Se);N(C,e.numeric,F);const u=ee(Se),y=ee();N(u,t,u),N(u,i,y),N(y,t,u),N(y,i,y),I(w,ge,u),I(F,ge,u);const s=I(S,_e),l=I(E,_e),a=I(l,ge),h=I(a,ge);N(S,e.domain,_),I(S,de,j),I(S,he,M),N(E,e.domain,_),I(E,de,j),I(E,he,M),N(s,e.domain,u),I(s,ge,u),N(h,e.domain,u),N(h,t,u),I(h,ge,u);const p=I(u,Oe),H=I(u,Ne),U=I(u,Be),z=I(u,Ue);I(y,Oe,p),I(y,Ne,H),I(y,Be,U),I(y,Ue,z),I(p,xe,u),I(H,Pe,u),I(U,De,u),I(z,Ee,u),I(p,xe,u);const L=ee(Se),B=ee(Se),W=ee(Se),q=ee(Se);N(p,t,L),N(H,t,B),N(U,t,W),N(z,t,q);const G=ee(),re=ee(),we=ee(),pe=ee();return N(p,i),N(H,i),N(U,i),N(z,i),N(L,t,L),N(B,t,B),N(W,t,W),N(q,t,q),N(L,i,L),N(B,i,B),N(W,i,W),N(q,i,q),N(G,t,G),N(re,t,B),N(we,t,W),N(pe,t,q),N(G,i,G),N(re,i,re),N(we,i,we),N(pe,i,pe),I(B,Pe,u),I(W,De,u),I(q,Ee,u),I(L,xe,u),I(re,Pe,u),I(we,De,u),I(pe,Ee,u),I(G,Ee,u),I(d,He,w),I(d,Lt,Gr),{start:d,tokens:wn}}function qr(r,e,t){let i=t.length,o=0,d=[],g=[];for(;o<i;){let _=r,S=null,E=null,b=0,k=null,O=-1;for(;o<i&&!(S=_.go(t[o].t));)g.push(t[o++]);for(;o<i&&(E=S||_.go(t[o].t));)S=null,_=E,_.accepts()?(O=0,k=_):O>=0&&O++,o++,b++;if(O<0)o-=b,o<i&&(g.push(t[o]),o++);else{g.length>0&&(d.push(St(un,e,g)),g=[]),o-=O,b-=O;const R=k.t,v=t.slice(o-b,o);d.push(St(R,e,v))}}return g.length>0&&d.push(St(un,e,g)),d}function St(r,e,t){const i=t[0].s,o=t[t.length-1].e,d=e.slice(i,o);return new r(d,t)}const ne={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function Wr(){ne.scanner=zr(ne.customSchemes);for(let r=0;r<ne.tokenQueue.length;r++)ne.tokenQueue[r][1]({scanner:ne.scanner});ne.parser=Yr(ne.scanner.tokens);for(let r=0;r<ne.pluginQueue.length;r++)ne.pluginQueue[r][1]({scanner:ne.scanner,parser:ne.parser});ne.initialized=!0}function $r(r){return ne.initialized||Wr(),qr(ne.parser.start,r,Vr(ne.scanner.start,r))}function xn(r){return r.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Qr(r){return r.replace(/"/g,"&quot;")}function Xr(r){const e=[];for(const t in r){let i=r[t]+"";e.push(`${t}="${Qr(i)}"`)}return e.join(" ")}function Jr(r){let{tagName:e,attributes:t,content:i}=r;return`<${e} ${Xr(t)}>${xn(i)}</${e}>`}function En(r,e){e===void 0&&(e={}),e=new Ut(e,Jr);const t=$r(r),i=[];for(let o=0;o<t.length;o++){const d=t[o];d.t==="nl"&&e.get("nl2br")?i.push(`<br>
`):!d.isLink||!e.check(d)?i.push(xn(d.toString())):i.push(e.render(d))}return i.join("")}String.prototype.linkify||Object.defineProperty(String.prototype,"linkify",{writable:!1,value:function(e){return En(this,e)}});function Zr(){var t,i;const r=te.Govern.proposal.use(),e=te.data.govern.parameters.use();return V.jsxs(V.Fragment,{children:[V.jsx(fn,{position:[0,300,0],scale:120}),V.jsx(yn,{position:[0,-100,0],proposal:r,length:700,radius:10,quorum:e==null?void 0:e.tally_params.quorum.toString()}),V.jsx(to,{position:[0,75,0]}),V.jsx(eo,{position:[0,0,0]}),V.jsxs(Pt,{position:[0,-150,0],style:{height:"50px",fontWeight:"bold",display:"flex",alignItems:"center",flexDirection:"column",userSelect:"auto",whiteSpace:"normal"},pointerEvents:"auto",children:[V.jsx("p",{style:{fontSize:30,width:"800px"},children:(t=r==null?void 0:r.content)==null?void 0:t.title}),V.jsx("div",{style:{fontSize:20,width:"800px"},dangerouslySetInnerHTML:{__html:En((i=r==null?void 0:r.content)==null?void 0:i.description,{target:"_blank"})}})]})]})}function eo({position:r}){return V.jsxs("group",{position:r,children:[V.jsx(Ve,{text:"Yes",position:[-225,0,0],scale:25}),V.jsx(Ve,{text:"No",position:[-75,0,0],scale:25}),V.jsx(Ve,{text:"Veto",position:[75,0,0],scale:25}),V.jsx(Ve,{text:"Abstain",position:[225,0,0],scale:25})]})}function to({position:r}){const e=te.Govern.proposal.use(),t=te.data.govern[e==null?void 0:e.id].tally.use(),i=Number(t==null?void 0:t.yes)+Number(t==null?void 0:t.no)+Number(t==null?void 0:t.no_with_veto)+Number(t==null?void 0:t.abstain);return V.jsxs("group",{position:r,children:[V.jsx(We,{position:[-225,0,0],color:"green",text:((t==null?void 0:t.yes.toString())/i*100).toFixed(2)}),V.jsx(We,{position:[-75,0,0],color:"red",text:((t==null?void 0:t.no.toString())/i*100).toFixed(2)}),V.jsx(We,{position:[75,0,0],color:"orange",text:((t==null?void 0:t.no_with_veto.toString())/i*100).toFixed(2)}),V.jsx(We,{position:[225,0,0],color:"yellow",text:((t==null?void 0:t.abstain.toString())/i*100).toFixed(2)})]})}const no=new jn(1,32,32);function We({position:r,color:e,text:t}){return V.jsxs("group",{position:r,children:[V.jsx("mesh",{geometry:no,scale:50,children:V.jsx("meshStandardMaterial",{transparent:!0,roughness:0,metalness:.5,opacity:.5,color:e})}),V.jsx(Pt,{position:[0,0,0],children:V.jsxs("p",{style:{fontSize:30,color:"white",fontWeight:"bold"},children:[t,"%"]})})]})}function po(){return V.jsxs(V.Fragment,{children:[V.jsx(Kt,{name:"Govern",children:te.Hud.Govern.active.use()&&V.jsx(Pr,{})}),V.jsx(Kt,{name:"Proposal",children:te.Hud.Proposal.active.use()&&V.jsx(Zr,{})})]})}export{po as default};
